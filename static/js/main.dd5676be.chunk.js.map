{"version":3,"sources":["components/header/Header.tsx","components/itemList/ItemRow.tsx","components/itemList/ItemList.tsx","hooks/useLocalStorage.tsx","utils/general.ts","components/filterManager/FilterHeader.tsx","components/filterManager/FilterManager.tsx","utils/constants.ts","services/APIService.ts","hooks/useAuth.tsx","pages/home/Home.tsx","pages/login/LoginPage.tsx","components/router/protectedRoute/ProtectedRoute.tsx","components/app/App.tsx","reportWebVitals.ts","index.tsx"],"names":["Header","user","logout","React","showMenu","setShowMenu","username","displayName","animationProps","useSpring","opacity","transform","config","duration","easing","easeQuadInOut","className","role","onKeyPress","e","key","onClick","tabIndex","style","backgroundImage","avatar","div","type","ItemRow","item","id","setItem","_id","wavesurferRef","playing","setPlaying","setDuration","setPlayPosition","handleWSMount","waveSurfer","current","alert","audio","src","load","on","getCurrentTime","play","playPause","setVolume","volume","setTimeout","dur","getDuration","preventDefault","stopPropagation","bot","identifier","name","description","cost","Math","round","onMount","ref","container","p","cursorColor","waveColor","progressColor","height","barWidth","barHeight","cursorWidth","hideScrollbar","enabled","subscriberOnly","format","Date","createdAt","ItemList","allItems","items","setItems","sort","setSort","handleSort","order","map","i","handleSetItem","index","findIndex","x","newx","cloneDeep","useLocalStorage","initialValue","forceReset","manipulatedKey","adjustableKey","useState","window","localStorage","getItem","removeItem","JSON","parse","error","console","storedValue","setStoredValue","value","valueToStore","Function","stringify","objectToQueryString","object","Object","keys","length","reduce","a","k","push","encodeURIComponent","join","FilterHeader","query","setQuery","minVolume","setMinVolume","maxVolume","setMaxVolume","minCost","setMinCost","maxCost","setMaxCost","minSeconds","setMinSeconds","maxSeconds","setMaxSeconds","placeholder","onChange","target","min","max","parseInt","undefined","FilterManager","children","processedItems","setProcessedItems","memoizedProcessFiltering","s","array","produce","draft","b","less","more","get","y","sortByKey","filter","toUpperCase","indexOf","includes","sortKey","mapSingleKeyToPath","FiltersComponent","BASE_URL","fetchAPI","url","options","fetch","then","response","ok","Error","statusText","json","APIService","token","getCurrentUserChannel","method","headers","Authorization","getMeDetails","getChannelItems","channelId","limit","offset","AuthContext","createContext","AuthProvider","setUser","setToken","Provider","useAuth","useContext","Home","memoizedFetchUserDetails","useCallback","memoizedFetchChannelItems","useEffect","channel","channelItems","LoginPage","navigate","useNavigate","jwt","setJWT","onSubmit","pjson","version","ProtectedRoute","auth","location","useLocation","to","state","from","App","path","element","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd5676be.chunk.js","sourcesContent":["import * as React from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { easeQuadInOut } from 'd3-ease'\n\nimport { StreamElements } from '../../@types/types'\nimport './Header.scss'\n\ninterface IProps {\n  user?: StreamElements.Channel\n  logout: () => void\n}\n\nconst Header = ({ user, logout }: IProps) => {\n  const [showMenu, setShowMenu] = React.useState<boolean>(false)\n\n  const username = user?.displayName\n\n  const animationProps = useSpring({\n    opacity: showMenu ? 1 : 0,\n    transform: showMenu\n      ? 'translateY(0%) translateX(0%) scale(1)'\n      : 'translateY(-100%) translateX(50%) scale(0)',\n    config: { duration: 250, easing: easeQuadInOut }\n  })\n\n  return (\n    <div className=\"header-app\">\n      <div className=\"title\">\n        <h1>StreamElements Sounds editor</h1>\n      </div>\n      <div className=\"buttons\">\n        <div\n          className={`button-user${showMenu ? ' active' : ''}`}\n          role=\"button\"\n          onKeyPress={e => (e.key === 'enter' ? setShowMenu(!showMenu) : {})}\n          onClick={() => setShowMenu(!showMenu)}\n          tabIndex={0}\n        >\n          <div className=\"user-image\" style={{ backgroundImage: `url(${user?.avatar})` }} />\n          <div className=\"name\">{username || <i className=\"fas fa-spin fa-spinner\" />}</div>\n          <div className=\"triangle\">\n            <i className=\"fas fa-caret-down\" />\n          </div>\n        </div>\n      </div>\n      <animated.div className=\"user-menu\" style={{ ...animationProps }}>\n        <button className=\"button-menu danger\" type=\"button\" onClick={() => logout()}>\n          Log out\n        </button>\n      </animated.div>\n    </div>\n  )\n}\n\nexport default Header\n","import * as React from 'react'\nimport { WaveSurfer, WaveForm } from 'wavesurfer-react'\nimport { format } from 'date-fns'\n\nimport { EditedChannelItem, StreamElements } from '../../@types/types'\n\ninterface IProps {\n  item: StreamElements.ChannelItem\n  setItem: (item: EditedChannelItem) => void\n}\n\nconst ItemRow = ({ item, setItem }: IProps) => {\n  const id = `waveform-${item._id}`\n  const wavesurferRef = React.useRef<any>(null)\n\n  const [playing, setPlaying] = React.useState(false)\n  const [duration, setDuration] = React.useState<number>()\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [playPosition, setPlayPosition] = React.useState(0)\n  const handleWSMount = React.useCallback(\n    waveSurfer => {\n      wavesurferRef.current = waveSurfer\n\n      if (wavesurferRef.current && item.alert?.audio?.src) {\n        wavesurferRef.current.load(item.alert?.audio?.src)\n\n        wavesurferRef.current.on('play', () => {\n          setPlaying(true)\n        })\n\n        wavesurferRef.current.on('pause', () => {\n          setPlaying(false)\n        })\n\n        wavesurferRef.current.on('finish', () => {\n          setPlaying(false)\n        })\n\n        wavesurferRef.current.on('seek', () => {\n          setPlayPosition(wavesurferRef.current.getCurrentTime())\n        })\n\n        wavesurferRef.current.on('audioprocess', () => {\n          setPlayPosition(wavesurferRef.current.getCurrentTime())\n        })\n      }\n    },\n    [item.alert?.audio?.src]\n  )\n\n  const play = React.useCallback(() => {\n    wavesurferRef.current.playPause()\n  }, [])\n\n  React.useEffect(() => {\n    if (wavesurferRef.current) {\n      wavesurferRef.current.setVolume(item.alert?.audio?.volume)\n    }\n  }, [item.alert?.audio?.volume])\n\n  React.useEffect(() => {\n    setTimeout(() => getDuration(), 5000)\n  }, [])\n\n  return (\n    <tr className=\"item\" key={item._id}>\n      <td className=\"checkbox\" />\n      <td className=\"play\">\n        <div\n          className=\"play-button\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyPress={e => {\n            e.preventDefault()\n            e.stopPropagation()\n            if (e.key === 'ENTER') {\n              if (item.alert?.audio?.src && !playing) {\n                play()\n              }\n            }\n          }}\n          onClick={e => {\n            e.preventDefault()\n            e.stopPropagation()\n            if (item.alert?.audio?.src && !playing) {\n              play()\n            }\n          }}\n        >\n          <i className={playing ? 'fas fa-pause' : 'fas fa-play'} />\n        </div>\n      </td>\n      <td className=\"sound-name\">\n        <div className=\"name-split\">\n          <div className=\"name\">{item.bot?.identifier}</div>\n          <div className=\"description\">\n            {item.name} - {item.description}\n          </div>\n        </div>\n      </td>\n      <td className=\"cost center\">{item.cost}</td>\n      <td className=\"volume center\">{Math.round((item.alert?.audio?.volume || 0) * 100)}%</td>\n      <td className=\"duration center\">\n        {duration ? `${Math.round(duration * 10) / 10}s` : <i className=\"fas fa-spin fa-spinner\" />}\n      </td>\n      <td className=\"waveform\">\n        <WaveSurfer onMount={handleWSMount} ref={wavesurferRef}>\n          <WaveForm\n            id={id}\n            container={id}\n            p\n            cursorColor=\"#ff000000\"\n            waveColor=\"#BDBABD\"\n            progressColor=\"#9a64ff\"\n            height={35}\n            barWidth={1}\n            barHeight={3}\n            cursorWidth={1}\n            hideScrollbar={true}\n          />\n        </WaveSurfer>\n      </td>\n      <td className=\"check center enabled\">\n        <i className={item.enabled ? 'fas fa-check' : 'fas fa-times'} />\n      </td>\n      <td className=\"check center subs-only\">\n        <i className={item.subscriberOnly ? 'fas fa-check' : 'fas fa-times'} />\n      </td>\n      <td className=\"dateCreated center\">\n        {format(new Date(item.createdAt), 'dd-MM-yyyy HH:mm:ss')}\n      </td>\n    </tr>\n  )\n\n  // async function playSound(soundFile: string, volume: number = 1.0) {\n  //   const sound = new Audio(soundFile)\n  //   sound.volume = volume\n  //   setPlaying(true)\n  //   try {\n  //     await sound.play()\n  //     const length = sound.duration\n  //     setTimeout(() => setPlaying(false), length * 1000)\n  //   } catch (error) {\n  //     console.error(error)\n  //   }\n  // }\n\n  function getDuration() {\n    const dur = wavesurferRef.current.getDuration()\n    setDuration(dur)\n\n    // setItem({ ...item, duration: dur })\n  }\n}\n\nexport default ItemRow\n","import * as React from 'react'\nimport { cloneDeep } from 'lodash'\n\nimport ItemRow from './ItemRow'\n\nimport { EditedChannelItem, TableSortType } from '../../@types/types'\nimport './ItemList.scss'\n\ninterface IProps {\n  allItems: EditedChannelItem[]\n  items: EditedChannelItem[]\n  setItems: (items: EditedChannelItem[]) => void\n  sort: { sort: TableSortType; order: 'asc' | 'desc' }\n  setSort: (sort: { sort: TableSortType; order: 'asc' | 'desc' }) => void\n}\n\nconst ItemList = ({ allItems, items, setItems, sort, setSort }: IProps) => {\n  return (\n    <table className=\"item-list\">\n      <thead>\n        <tr className=\"table-header\">\n          {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n          <th className=\"checkbox\" />\n          {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n          <th className=\"play\" />\n          <th className=\"sound-name clickable\" onClick={() => handleSort('soundName')}>\n            Sound name\n            <i\n              className={`fas fa-sort${\n                sort.sort === 'soundName' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n              }`}\n            />\n          </th>\n          <th className=\"cost center clickable\" onClick={() => handleSort('cost')}>\n            Cost\n            <i\n              className={`fas fa-sort${\n                sort.sort === 'cost' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n              }`}\n            />\n          </th>\n          <th className=\"volume center clickable\" onClick={() => handleSort('volume')}>\n            Volume\n            <i\n              className={`fas fa-sort${\n                sort.sort === 'volume' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n              }`}\n            />\n          </th>\n          <th className=\"duration center\">Duration</th>\n          {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n          <th className=\"waveform\" />\n          <th className=\"check center enabled clickable\" onClick={() => handleSort('enabled')}>\n            Enabled\n            <i\n              className={`fas fa-sort${\n                sort.sort === 'enabled' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n              }`}\n            />\n          </th>\n          <th className=\"check center subs-only clickable\" onClick={() => handleSort('subsOnly')}>\n            Subs only{' '}\n            <i\n              className={`fas fa-sort${\n                sort.sort === 'subsOnly' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n              }`}\n            />\n          </th>\n          <th className=\"age center clickable\" onClick={() => handleSort('dateCreated')}>\n            Date created\n            <i\n              className={`fas fa-sort${\n                sort.sort === 'dateCreated' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n              }`}\n            />\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {items.map(i => (\n          <ItemRow item={i} key={i._id} setItem={handleSetItem} />\n        ))}\n      </tbody>\n    </table>\n  )\n\n  function handleSort(key: TableSortType) {\n    setSort({\n      sort: key,\n      order: sort.sort === key ? (sort.order === 'asc' ? 'desc' : 'asc') : 'asc'\n    })\n  }\n\n  function handleSetItem(item: EditedChannelItem) {\n    const index = allItems.findIndex(x => x._id === item._id)\n\n    if (index) {\n      const newx = cloneDeep(allItems)\n      newx[index] = item\n\n      setItems(newx)\n    }\n  }\n}\n\nexport default ItemList\n","import { Dispatch, SetStateAction, useState } from 'react'\n\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T,\n  forceReset?: boolean\n): [T, Dispatch<SetStateAction<T>>] {\n  const manipulatedKey = (adjustableKey: string) => `onscreensounds-${adjustableKey}`\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = window.localStorage.getItem(manipulatedKey(key))\n\n      if (forceReset) {\n        window.localStorage.removeItem(manipulatedKey(key))\n      }\n\n      return item && forceReset !== true ? JSON.parse(item) : initialValue\n    } catch (error) {\n      console.error(error)\n      return initialValue\n    }\n  })\n\n  const setValue = (value: T | SetStateAction<T>): void => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value\n      setStoredValue(valueToStore)\n      window.localStorage.setItem(manipulatedKey(key), JSON.stringify(valueToStore))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return [storedValue, setValue]\n}\n","import produce from 'immer'\nimport cloneDeep from 'lodash/cloneDeep'\nimport get from 'lodash/get'\n\nexport function sortByKey<T>(array: T[], key: string, order: 'asc' | 'desc' = 'asc'): T[] {\n  return produce(array, draft =>\n    draft.sort((a, b) => {\n      const less = order === 'asc' ? -1 : 1\n      const more = order === 'asc' ? 1 : -1\n      const x = get(a, key)\n      const y = get(b, key)\n\n      if (x && y) {\n        return x < y ? less : x > y ? more : 0\n      }\n      if (!x) {\n        return 1\n      }\n      return -1\n    })\n  )\n}\n\nexport function queryStringToObject(query: string): { [key: string]: string } {\n  let splitObject = cloneDeep(query)\n\n  // Remove ?\n  if (splitObject.charAt(0) === '?') {\n    splitObject = splitObject.slice(1)\n  }\n\n  // Create array by splitting on &\n  const splittedQuery = splitObject.split('&')\n  const keyValueObj: { [key: string]: string } = {}\n  // Make key value objects ( key=value -> {key: value} )\n  splittedQuery.forEach(queryParam => {\n    const keyValue = queryParam.split('=')\n    if (keyValue[1]) {\n      // eslint-disable-next-line prefer-destructuring\n      keyValueObj[keyValue[0]] = keyValue[1]\n    }\n  })\n\n  return keyValueObj\n}\n\nexport function objectToQueryString(object: {\n  [key: string]: string | number | boolean | undefined\n}): string {\n  if (Object.keys(object).length === 0) {\n    return ''\n  }\n\n  const str = `?${Object.keys(object)\n    .reduce((a: string[], k) => {\n      const value = object[k]\n      if (value || value === 0 || value === false) {\n        a.push(`${k}=${encodeURIComponent(value)}`)\n      }\n      return a\n    }, [])\n    .join('&')}`\n\n  return str\n}\n","import React from 'react'\n\nimport './FilterHeader.scss'\n\ninterface IProps {\n  query: string\n  setQuery: (query: string) => void\n  minVolume: number | undefined\n  setMinVolume: (minVolume: number | undefined) => void\n  maxVolume: number | undefined\n  setMaxVolume: (maxVolume: number | undefined) => void\n  minCost: number | undefined\n  setMinCost: (minCost: number | undefined) => void\n  maxCost: number | undefined\n  setMaxCost: (maxCost: number | undefined) => void\n  minSeconds: number | undefined\n  setMinSeconds: (minSeconda: number | undefined) => void\n  maxSeconds: number | undefined\n  setMaxSeconds: (maxSeconds: number | undefined) => void\n}\n\nconst FilterHeader = ({\n  query,\n  setQuery,\n  minVolume,\n  setMinVolume,\n  maxVolume,\n  setMaxVolume,\n  minCost,\n  setMinCost,\n  maxCost,\n  setMaxCost,\n  minSeconds,\n  setMinSeconds,\n  maxSeconds,\n  setMaxSeconds\n}: IProps) => (\n  <div className=\"filter-header\">\n    <div className=\"filter-item\">\n      <h3>Search</h3>\n      <input\n        placeholder=\"Search by sound name\"\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n      />\n    </div>\n    <div className=\"filter-item\">\n      <h3>Cost</h3>\n      <div className=\"flex\">\n        <input\n          className={(minCost || 0) < (maxCost || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={minCost}\n          placeholder=\"Min\"\n          min={0}\n          max={9999999999}\n          onChange={e => setMinCost(parseInt(e.target.value, 10))}\n        />\n        <input\n          className={(minCost || 0) < (maxCost || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={maxCost}\n          placeholder=\"Max\"\n          min={1}\n          max={1000000000}\n          onChange={e => setMaxCost(parseInt(e.target.value, 10))}\n        />\n      </div>\n    </div>\n    <div className=\"filter-item\">\n      <h3>Volume</h3>\n      <div className=\"flex\">\n        <input\n          className={(minVolume || 0) < (maxVolume || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={minVolume || undefined}\n          placeholder=\"Min\"\n          min={0}\n          max={99}\n          onChange={e => setMinVolume(parseInt(e.target.value, 10))}\n        />\n        <input\n          className={(minVolume || 0) < (maxVolume || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={maxVolume}\n          placeholder=\"Max\"\n          min={1}\n          max={100}\n          onChange={e => setMaxVolume(parseInt(e.target.value, 10))}\n        />\n      </div>\n    </div>\n    <div className=\"filter-item\">\n      <h3>Duration</h3>\n      <div className=\"flex\">\n        <input\n          className={(minSeconds || 0) < (maxSeconds || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={minSeconds}\n          placeholder=\"Min\"\n          min={0}\n          max={9999999999}\n          onChange={e => setMinSeconds(parseInt(e.target.value, 10))}\n        />\n        <input\n          className={(minSeconds || 0) < (maxSeconds || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={maxSeconds}\n          placeholder=\"Max\"\n          min={1}\n          max={1000000000}\n          onChange={e => setMaxSeconds(parseInt(e.target.value, 10))}\n        />\n      </div>\n    </div>\n  </div>\n)\n\nexport default FilterHeader\n","import * as React from 'react'\nimport { EditedChannelItem, TableSortType } from '../../@types/types'\nimport { useLocalStorage } from '../../hooks/useLocalStorage'\nimport { sortByKey } from '../../utils/general'\nimport FilterHeader from './FilterHeader'\n\ninterface IProps {\n  items: EditedChannelItem[]\n  setItems: (items: EditedChannelItem[]) => void\n  children: (\n    FiltersComponent: React.ReactNode,\n    processedItems: EditedChannelItem[],\n    sort: { sort: TableSortType; order: 'asc' | 'desc' },\n    setSort: (newSort: { sort: TableSortType; order: 'asc' | 'desc' }) => void\n  ) => React.ReactNode\n}\n\nconst FilterManager = ({ items, setItems, children }: IProps) => {\n  const [query, setQuery] = useLocalStorage<string>('query', '')\n  const [minVolume, setMinVolume] = useLocalStorage<number | undefined>('minVolume', undefined)\n  const [maxVolume, setMaxVolume] = useLocalStorage<number | undefined>('maxVolume', undefined)\n  const [minCost, setMinCost] = useLocalStorage<number | undefined>('minCost', undefined)\n  const [maxCost, setMaxCost] = useLocalStorage<number | undefined>('maxCost', undefined)\n  const [minSeconds, setMinSeconds] = useLocalStorage<number | undefined>('minSeconds', undefined)\n  const [maxSeconds, setMaxSeconds] = useLocalStorage<number | undefined>('maxSeconds', undefined)\n  const [sort, setSort] = useLocalStorage<{ sort: TableSortType; order: 'asc' | 'desc' }>('sort', {\n    sort: 'dateCreated',\n    order: 'asc'\n  })\n\n  const [processedItems, setProcessedItems] = React.useState<EditedChannelItem[]>(items)\n  const memoizedProcessFiltering = React.useCallback(processFiltering, [\n    query,\n    minVolume,\n    maxVolume,\n    minCost,\n    maxCost,\n    minSeconds,\n    maxSeconds\n  ])\n\n  React.useEffect(() => {\n    setProcessedItems(memoizedProcessFiltering(items, sort))\n  }, [items, memoizedProcessFiltering, sort])\n\n  const FiltersComponent = FilterHeader({\n    query,\n    setQuery,\n    minVolume,\n    setMinVolume,\n    maxVolume,\n    setMaxVolume,\n    minCost,\n    setMinCost,\n    maxCost,\n    setMaxCost,\n    minSeconds,\n    setMinSeconds,\n    maxSeconds,\n    setMaxSeconds\n  })\n\n  return <>{children(FiltersComponent, processedItems, sort, setSort)}</>\n\n  function processFiltering(\n    allItems: EditedChannelItem[],\n    s: { sort: TableSortType; order: 'asc' | 'desc' }\n  ) {\n    return sortByKey(\n      allItems.filter(\n        item =>\n          // Query checking, any should match so OR\n          (item.name.toUpperCase().indexOf(query.toUpperCase()) !== -1 ||\n            item.description.toUpperCase().includes(query.toUpperCase()) ||\n            item.bot?.identifier?.toUpperCase().includes(query.toUpperCase())) &&\n          // Strict clauses so AND\n          (item.alert?.audio?.volume || 0) * 100 >= (minVolume || 0) &&\n          (item.alert?.audio?.volume || 0) * 100 <= (maxVolume || 100) &&\n          (item.cost || 0) >= (minCost || 0) &&\n          (item.cost || 0) <= (maxCost || 100000000) &&\n          (item.duration || 0) >= (minSeconds || 0) &&\n          (item.duration || 0) <= (maxSeconds || 100000000)\n      ),\n      mapSingleKeyToPath(s.sort),\n      s.order\n    )\n  }\n\n  function mapSingleKeyToPath(sortKey: TableSortType): string {\n    switch (sortKey) {\n      case 'soundName':\n        return 'bot.identifier'\n      case 'volume':\n        return 'alert.audio.volume'\n      case 'dateCreated':\n        return 'createdAt'\n\n      default: {\n        return sortKey\n      }\n    }\n  }\n}\n\nexport default FilterManager\n","export const BASE_URL = 'https://api.streamelements.com/kappa'\n","import { BASE_URL } from '../utils/constants'\nimport { objectToQueryString } from '../utils/general'\nimport { StreamElements } from '../@types/types'\n\nexport interface APIServiceProps {\n  getMeDetails: () => Promise<StreamElements.Channel>\n  getCurrentUserChannel: () => Promise<StreamElements.Channel>\n  getChannelItems: (channelId: string) => Promise<StreamElements.ChannelItem[]>\n}\n\nconst APIService = (token: string): APIServiceProps => ({\n  getCurrentUserChannel: (): Promise<StreamElements.Channel> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    return fetchAPI(`${BASE_URL}/v2/users/current`, options)\n  },\n  getMeDetails: (): Promise<StreamElements.Channel> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    return fetchAPI(`${BASE_URL}/v2/channels/me`, options)\n  },\n  getChannelItems: (\n    channelId: string,\n    limit: number = 25,\n    offset?: number\n  ): Promise<StreamElements.ChannelItem[]> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    const query = objectToQueryString({ limit, offset })\n\n    return fetchAPI(`${BASE_URL}/v2/store/${channelId}/items${query}`, options)\n  }\n})\n\nfunction fetchAPI<T>(url: string, options: RequestInit): Promise<T> {\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText)\n    }\n    return response.json()\n  })\n}\n\nexport default APIService\n","import React from 'react'\nimport APIService, { APIServiceProps } from '../services/APIService'\nimport { useLocalStorage } from './useLocalStorage'\nimport { StreamElements } from '../@types/types'\n\ninterface AuthContextType {\n  user?: StreamElements.Channel\n  setUser: (user: StreamElements.Channel) => void\n  token: string | null\n  setToken: (token: string | null) => void\n  APIService: APIServiceProps | null\n}\n\nconst AuthContext = React.createContext<AuthContextType>(null!)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = React.useState<StreamElements.Channel>()\n  const [token, setToken] = useLocalStorage<string | null>('StreamElementsJWT', null)\n\n  const tokenizedAPIService = token ? APIService(`Bearer ${token}`) : null\n\n  const value = { user, setUser, token, setToken, APIService: tokenizedAPIService }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n  return React.useContext(AuthContext)\n}\n","import React, { useCallback, useEffect, useState } from 'react'\n\nimport Header from '../../components/header/Header'\nimport ItemList from '../../components/itemList/ItemList'\nimport FilterManager from '../../components/filterManager/FilterManager'\n\nimport { EditedChannelItem } from '../../@types/types'\nimport { useAuth } from '../../hooks/useAuth'\n\nimport './Home.scss'\n\nconst Home = () => {\n  const { user, setUser, APIService, setToken } = useAuth()\n  const [items, setItems] = useState<EditedChannelItem[]>([])\n\n  const memoizedFetchUserDetails = useCallback(fetchUserDetails, [APIService, setUser])\n  const memoizedFetchChannelItems = useCallback(fetchUserStoreItems, [APIService])\n\n  useEffect(() => {\n    memoizedFetchUserDetails()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    if (user?._id) {\n      memoizedFetchChannelItems(user?._id)\n    } else {\n      setItems([])\n    }\n  }, [user?._id, memoizedFetchChannelItems])\n\n  return (\n    <div className=\"home\">\n      <Header user={user} logout={() => setToken(null)} />\n      <div className=\"content\">\n        <FilterManager items={items} setItems={setItems}>\n          {(FiltersComponent, processedItems, sort, setSort) => (\n            <>\n              {FiltersComponent}\n              <ItemList\n                items={processedItems}\n                setItems={setItems}\n                allItems={items}\n                sort={sort}\n                setSort={setSort}\n              />\n            </>\n          )}\n        </FilterManager>\n      </div>\n    </div>\n  )\n\n  async function fetchUserDetails() {\n    if (APIService) {\n      try {\n        const channel = await APIService?.getMeDetails()\n        setUser(channel)\n      } catch (error) {\n        console.error(error)\n      }\n    }\n  }\n\n  async function fetchUserStoreItems(channelId: string) {\n    if (APIService) {\n      try {\n        const channelItems = await APIService?.getChannelItems(channelId)\n        setItems(channelItems)\n      } catch (error) {\n        console.error(error)\n      }\n    }\n  }\n}\n\nexport default Home\n","import React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\nimport pjson from '../../../package.json'\nimport { useAuth } from '../../hooks/useAuth'\n\nimport './LoginPage.scss'\n\nconst LoginPage = () => {\n  const { token, setToken } = useAuth()\n  const navigate = useNavigate()\n\n  const [jwt, setJWT] = useState<string>('')\n\n  useEffect(() => {\n    if (token) {\n      navigate('/')\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className=\"login-page\">\n      <h1 className=\"page-title\">StreamElements Sounds editor</h1>\n      <div className=\"login-block\">\n        <div className=\"info-box warning\">\n          <div className=\"header\">\n            <i className=\"fas fa-info-circle\" />\n            <span>Information</span>\n          </div>\n          <div className=\"content\">\n            <p>To manage sounds the tool needs your JWT (JSON web token).</p>\n            <p>\n              You can find this by logging into StreamElements, clicking your image in the top\n              right, then your username and lastly Channel Settings.\n            </p>\n            <p>\n              Then toggle the \"Show secrets\" button, and copy the JWT in full inside the input\n              field.\n            </p>\n          </div>\n          <div className=\"footer\">\n            <span>Do not share this token!</span>\n          </div>\n        </div>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"password\"\n            value={jwt}\n            onChange={e => setJWT(e.target.value)}\n            placeholder=\"JWT (JSON web token)\"\n          />\n          <button type=\"submit\">Login</button>\n        </form>\n      </div>\n      <div className=\"copy\">\n        <div className=\"who\">&copy; damon02 - 2021</div>\n        <div className=\"version\">v{pjson.version}</div>\n      </div>\n    </div>\n  )\n\n  function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault()\n\n    setToken(jwt)\n    setJWT('')\n\n    navigate('/')\n  }\n}\n\nexport default LoginPage\n","import * as React from 'react'\nimport { useLocation, Navigate } from 'react-router-dom'\nimport { useAuth } from '../../../hooks/useAuth'\n\nconst ProtectedRoute = ({ children }: { children: JSX.Element }) => {\n  const auth = useAuth()\n  const location = useLocation()\n\n  if (!auth?.token) {\n    return <Navigate to=\"/login\" state={{ from: location }} />\n  }\n\n  return children\n}\n\nexport default ProtectedRoute\n","import * as React from 'react'\nimport { Routes, Route } from 'react-router-dom'\n\nimport Home from '../../pages/home/Home'\nimport LoginPage from '../../pages/login/LoginPage'\nimport ProtectedRoute from '../router/protectedRoute/ProtectedRoute'\n\nimport './App.scss'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <ProtectedRoute>\n              <Home />\n            </ProtectedRoute>\n          }\n        />\n        <Route index={false} path=\"login\" element={<LoginPage />} />\n      </Routes>\n    </div>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport App from './components/app/App'\nimport { AuthProvider } from './hooks/useAuth'\nimport reportWebVitals from './reportWebVitals'\n\nimport './style/index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}