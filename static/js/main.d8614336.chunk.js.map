{"version":3,"sources":["components/header/Header.tsx","components/itemList/ItemRow.tsx","components/itemList/ItemList.tsx","hooks/useWindowSize.tsx","hooks/usePrevious.tsx","hooks/useDebounce.tsx","hooks/useSessionStorage.tsx","hooks/useLocalStorage.tsx","utils/general.ts","components/filterManager/FilterHeader.tsx","components/filterManager/FilterManager.tsx","utils/constants.ts","services/APIService.ts","hooks/useAuth.tsx","pages/home/Home.tsx","pages/login/LoginPage.tsx","components/itemDetails/ItemWrapper.tsx","components/itemDetails/ItemDetails.tsx","hooks/useOutletContexts.tsx","components/router/protectedRoute/ProtectedRoute.tsx","components/app/App.tsx","reportWebVitals.ts","index.tsx"],"names":["Header","user","logout","loading","React","showMenu","setShowMenu","username","displayName","menuAnimationProps","useSpring","opacity","transform","config","duration","easing","easeQuadInOut","className","role","onKeyPress","e","key","onClick","tabIndex","style","backgroundImage","avatar","div","type","ItemRow","item","navigate","setItem","useNavigate","id","_id","wavesurferRef","playing","setPlaying","setPlayPosition","handleWSMount","waveSurfer","current","alert","audio","src","load","on","getCurrentTime","play","playPause","setVolume","volume","preventDefault","stopPropagation","bot","identifier","name","description","cost","Math","round","onMount","ref","container","p","cursorColor","waveColor","progressColor","height","barWidth","barHeight","cursorWidth","hideScrollbar","enabled","subscriberOnly","format","Date","createdAt","ItemList","allItems","items","setItems","sort","setSort","resetFilters","useState","width","undefined","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","previousItemLength","value","useRef","usePrevious","length","itemsPerPage","h","itemAmount","floor","determineItemsPerPage","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","initialValue","forceReset","manipulatedKey","adjustableKey","sessionStorage","getItem","removeItem","JSON","parse","error","console","storedValue","setStoredValue","valueToStore","Function","stringify","useSessionStorage","page","setPage","lastPage","ceil","showAll","setShowAll","handleSort","order","slice","map","i","handleSetItem","disabled","handlePageClick","index","findIndex","x","newx","method","useLocalStorage","localStorage","objectToQueryString","object","Object","keys","reduce","a","k","push","encodeURIComponent","join","FilterHeader","query","setQuery","minVolume","setMinVolume","maxVolume","setMaxVolume","minCost","setMinCost","maxCost","setMaxCost","minSeconds","setMinSeconds","maxSeconds","setMaxSeconds","placeholder","onChange","target","min","max","parseInt","FilterManager","children","processedItems","setProcessedItems","memoizedProcessFiltering","s","array","produce","draft","b","less","more","get","y","sortByKey","filter","toUpperCase","indexOf","includes","sortKey","mapSingleKeyToPath","FiltersComponent","BASE_URL","fetchAPI","url","options","fetch","then","response","ok","Error","statusText","json","APIService","token","getCurrentUserChannel","headers","Authorization","getMeDetails","getChannelItems","channelId","limit","offset","saveChannelItem","body","getUploadedItems","AuthContext","createContext","AuthProvider","setUser","setToken","Provider","useAuth","useContext","Home","files","setFiles","setLoading","memoizedFetchUserDetails","useCallback","memoizedFetchChannelItems","memoizedFetchAllFileDetails","context","newArr","setFile","file","channel","channelItems","filteredItems","Promise","all","determineSoundDuration","itemsWithDuration","allUploadedItems","uploads","ctx","AudioContext","r","arrayBuffer","decodeAudioData","audioBuffer","LoginPage","jwt","setJWT","onSubmit","open","pjson","version","ItemWrapper","label","additionalLabel","subtitle","allowsMin","parsedValue","ItemDetails","itemId","useParams","useOutletContext","saving","setSaving","find","setName","setDescription","setCost","quantity","total","setQuantity","cooldown","global","globalCooldown","setGlobalCooldown","userCooldown","setUserCooldown","categoryName","categoryCooldownName","setCategoryCooldownName","category","categoryCooldownTime","setCategoryCooldownTime","command","setCommand","selectedFile","setSelectedFile","setDuration","playPosition","website","extension","confirmation","redeemables","setRedeemables","sources","sendResponse","match","u","playSound","dur","getDuration","formatDuration","intervalToDuration","start","end","v","step","handleStyle","marginTop","backgroundColor","borderColor","railStyle","trackStyle","checked","handleCloseDetails","newItem","processedItem","ProtectedRoute","auth","location","useLocation","to","state","from","App","path","element","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8614336.chunk.js","sourcesContent":["import * as React from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { easeQuadInOut } from 'd3-ease'\n\nimport { StreamElements } from '../../@types/types'\nimport './Header.scss'\n\ninterface IProps {\n  user?: StreamElements.Channel\n  loading: boolean\n  logout: () => void\n}\n\nconst Header = ({ user, loading, logout }: IProps) => {\n  const [showMenu, setShowMenu] = React.useState<boolean>(false)\n\n  const username = user?.displayName\n\n  const menuAnimationProps = useSpring({\n    opacity: showMenu ? 1 : 0,\n    transform: showMenu\n      ? 'translateY(0%) translateX(0%) scale(1)'\n      : 'translateY(-100%) translateX(50%) scale(0)',\n    config: { duration: 250, easing: easeQuadInOut }\n  })\n\n  return (\n    <div className=\"header-app\">\n      <div className=\"title\">\n        <h1>StreamElements Sounds editor</h1>\n      </div>\n      <div className=\"buttons\">\n        <div\n          className={`button-user${showMenu ? ' active' : ''}`}\n          role=\"button\"\n          onKeyPress={e => (e.key === 'enter' ? setShowMenu(!showMenu) : {})}\n          onClick={() => setShowMenu(!showMenu)}\n          tabIndex={0}\n        >\n          <div className=\"user-image\" style={{ backgroundImage: `url(${user?.avatar})` }} />\n          <div className=\"name\">{username || <i className=\"fas fa-spin fa-spinner\" />}</div>\n          <div className=\"triangle\">\n            <i className=\"fas fa-caret-down\" />\n          </div>\n        </div>\n      </div>\n      <animated.div className=\"user-menu\" style={{ ...menuAnimationProps }}>\n        <button className=\"button-menu danger\" type=\"button\" onClick={() => logout()}>\n          Log out\n        </button>\n      </animated.div>\n    </div>\n  )\n}\n\nexport default Header\n","import * as React from 'react'\nimport { WaveSurfer, WaveForm } from 'wavesurfer-react'\nimport { format } from 'date-fns'\nimport { useNavigate } from 'react-router-dom'\n\nimport { EditedChannelItem } from '../../@types/types'\n\ninterface IProps {\n  item: EditedChannelItem\n  setItem: (item: EditedChannelItem) => void\n}\n\nconst ItemRow = ({ item, setItem }: IProps) => {\n  const navigate = useNavigate()\n\n  const id = `waveform-${item._id}`\n  const wavesurferRef = React.useRef<any>(null)\n\n  const [playing, setPlaying] = React.useState(false)\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [playPosition, setPlayPosition] = React.useState(0)\n  const handleWSMount = React.useCallback(\n    waveSurfer => {\n      wavesurferRef.current = waveSurfer\n\n      if (wavesurferRef.current && item.alert?.audio?.src) {\n        wavesurferRef.current.load(item.alert?.audio?.src)\n\n        wavesurferRef.current.on('play', () => {\n          setPlaying(true)\n        })\n\n        wavesurferRef.current.on('pause', () => {\n          setPlaying(false)\n        })\n\n        wavesurferRef.current.on('finish', () => {\n          setPlaying(false)\n        })\n\n        wavesurferRef.current.on('seek', () => {\n          setPlayPosition(wavesurferRef.current.getCurrentTime())\n        })\n\n        wavesurferRef.current.on('audioprocess', () => {\n          setPlayPosition(wavesurferRef.current.getCurrentTime())\n        })\n      }\n    },\n    [item.alert?.audio?.src]\n  )\n\n  const play = React.useCallback(() => {\n    wavesurferRef.current.playPause()\n  }, [])\n\n  React.useEffect(() => {\n    if (wavesurferRef.current) {\n      wavesurferRef.current.setVolume(item.alert?.audio?.volume)\n    }\n  }, [item.alert?.audio?.volume])\n\n  return (\n    <tr className=\"item\" key={item._id} onClick={() => navigate(`item/${item._id}`)}>\n      <td className=\"play\">\n        <div\n          className=\"play-button\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyPress={e => {\n            e.preventDefault()\n            e.stopPropagation()\n            if (e.key === 'ENTER') {\n              if (item.alert?.audio?.src) {\n                play()\n              }\n            }\n          }}\n          onClick={e => {\n            e.preventDefault()\n            e.stopPropagation()\n            if (item.alert?.audio?.src) {\n              play()\n            }\n          }}\n        >\n          <i className={playing ? 'fas fa-pause' : 'fas fa-play'} />\n        </div>\n      </td>\n      <td className=\"sound-name\">\n        <div className=\"name-split\">\n          <div className=\"name\">{item.bot?.identifier}</div>\n          <div className=\"description\">\n            {item.name} - {item.description}\n          </div>\n        </div>\n      </td>\n      <td className=\"cost center\">{item.cost}</td>\n      <td className=\"volume center\">{Math.round((item.alert?.audio?.volume || 0) * 100)}%</td>\n      <td className=\"duration center\">\n        {item.duration ? (\n          `${Math.round(item.duration * 10) / 10}s`\n        ) : (\n          <i className=\"fas fa-question\" />\n        )}\n      </td>\n      <td className=\"waveform\">\n        <WaveSurfer onMount={handleWSMount} ref={wavesurferRef}>\n          <WaveForm\n            id={id}\n            container={id}\n            p\n            cursorColor=\"#ff000000\"\n            waveColor=\"#BDBABD\"\n            progressColor=\"#9a64ff\"\n            height={35}\n            barWidth={1}\n            barHeight={3}\n            cursorWidth={1}\n            hideScrollbar={true}\n          />\n        </WaveSurfer>\n      </td>\n      <td className=\"check center enabled\">\n        <i className={item.enabled ? 'fas fa-check' : 'fas fa-times'} />\n      </td>\n      <td className=\"check center subs-only\">\n        <i className={item.subscriberOnly ? 'fas fa-check' : 'fas fa-times'} />\n      </td>\n      <td className=\"dateCreated center\">\n        {format(new Date(item.createdAt), 'dd-MM-yyyy HH:mm:ss')}\n      </td>\n    </tr>\n  )\n\n  // async function playSound(soundFile: string, volume: number = 1.0) {\n  //   const sound = new Audio(soundFile)\n  //   sound.volume = volume\n  //   setPlaying(true)\n  //   try {\n  //     await sound.play()\n  //     const length = sound.duration\n  //     setTimeout(() => setPlaying(false), length * 1000)\n  //   } catch (error) {\n  //     console.error(error)\n  //   }\n  // }\n}\n\nexport default React.memo(ItemRow)\n","import * as React from 'react'\n\nimport ItemRow from './ItemRow'\n\nimport { EditedChannelItem, TableSortType } from '../../@types/types'\nimport { usePrevious } from '../../hooks/usePrevious'\nimport { useWindowSize } from '../../hooks/useWindowSize'\nimport { useDebounce } from '../../hooks/useDebounce'\nimport { useSessionStorage } from '../../hooks/useSessionStorage'\n\nimport './ItemList.scss'\n\ninterface IProps {\n  allItems: EditedChannelItem[]\n  items: EditedChannelItem[]\n  setItems: (items: EditedChannelItem[]) => void\n  sort: { sort: TableSortType; order: 'asc' | 'desc' }\n  setSort: (sort: { sort: TableSortType; order: 'asc' | 'desc' }) => void\n  resetFilters: () => void\n}\n\nconst ItemList = ({ allItems, items, setItems, sort, setSort, resetFilters }: IProps) => {\n  const { height } = useWindowSize()\n  const previousItemLength = usePrevious(items.length)\n  const debouncedHeight = useDebounce(height, 100)\n\n  const itemsPerPage = determineItemsPerPage(debouncedHeight || 980)\n  const [page, setPage] = useSessionStorage<number>('page', 1)\n  const lastPage = Math.ceil(items.length / itemsPerPage)\n\n  const [showAll, setShowAll] = React.useState(false)\n\n  React.useEffect(() => {\n    if (!showAll && previousItemLength !== items.length) {\n      setPage(1)\n    }\n  }, [previousItemLength, items.length, setPage, showAll])\n\n  return (\n    <div className=\"list-wrapper\">\n      <table className=\"item-list\">\n        <thead>\n          <tr className=\"table-header\">\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <th className=\"play\" />\n            <th className=\"sound-name clickable\" onClick={() => handleSort('soundName')}>\n              Sound name\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'soundName' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n            <th className=\"cost center clickable\" onClick={() => handleSort('cost')}>\n              Cost\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'cost' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n            <th className=\"volume center clickable\" onClick={() => handleSort('volume')}>\n              Volume\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'volume' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n            <th className=\"duration center clickable\" onClick={() => handleSort('duration')}>\n              Duration\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'duration' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <th className=\"waveform\" />\n            <th className=\"check center enabled clickable\" onClick={() => handleSort('enabled')}>\n              Enabled\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'enabled' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n            <th className=\"check center subs-only clickable\" onClick={() => handleSort('subsOnly')}>\n              Subs only{' '}\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'subsOnly' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n            <th className=\"age center clickable\" onClick={() => handleSort('dateCreated')}>\n              Date created\n              <i\n                className={`fas fa-sort${\n                  sort.sort === 'dateCreated' ? (sort.order === 'asc' ? '-up' : '-down') : ' unset'\n                }`}\n              />\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {(showAll ? items : items.slice((page - 1) * itemsPerPage, page * itemsPerPage)).map(\n            i => (\n              <ItemRow item={i} key={i._id} setItem={handleSetItem} />\n            )\n          )}\n        </tbody>\n      </table>\n      <div className=\"page-controller-wrapper\">\n        {items.length !== allItems.length && (\n          <div\n            className=\"filtered-warning\"\n            onClick={() => resetFilters()}\n            onKeyPress={() => resetFilters()}\n            tabIndex={0}\n            role=\"button\"\n          >\n            Results are filtered, click here to clear filters\n          </div>\n        )}\n        <div className=\"page-controller\">\n          {!showAll ? (\n            <>\n              <div className=\"buttons-pages\">\n                <button\n                  className=\"button primary small\"\n                  type=\"button\"\n                  onClick={() => setPage(1)}\n                  disabled={page === 1}\n                >\n                  <i className=\"icon fas fa-angle-double-left\" />\n                </button>\n                <button\n                  className=\"button previous\"\n                  type=\"button\"\n                  onClick={() => handlePageClick('previous')}\n                  disabled={page === 1}\n                >\n                  <i className=\"icon fas fa-angle-left\" />\n                  Previous page\n                </button>\n                <div className=\"page-summary\">\n                  <div className=\"page-number\">\n                    Page {page} of{' '}\n                    {items.length < itemsPerPage ? 1 : Math.ceil(items.length / itemsPerPage)}\n                  </div>\n                  <div className=\"amount-per-page\">{items.length} results</div>\n                </div>\n                <button\n                  className=\"button next\"\n                  type=\"button\"\n                  onClick={() => handlePageClick('next')}\n                  disabled={page === lastPage}\n                >\n                  <i className=\"icon fas fa-angle-right\" />\n                  Next page\n                </button>\n                <button\n                  className=\"button primary small\"\n                  type=\"button\"\n                  onClick={() => setPage(lastPage)}\n                  disabled={page === lastPage}\n                >\n                  <i className=\"icon fas fa-angle-double-right\" />\n                </button>\n              </div>\n\n              <button\n                className=\"button secondary small showAll\"\n                type=\"button\"\n                onClick={() => setShowAll(true)}\n              >\n                Show all\n              </button>\n            </>\n          ) : (\n            <button\n              className=\"button secondary showAll\"\n              type=\"button\"\n              onClick={() => setShowAll(false)}\n            >\n              Turn on pagination\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n\n  function determineItemsPerPage(h: number) {\n    const itemAmount = (h - 174 - (items.length !== allItems.length ? 20 : 0)) / 40\n    return Math.floor(itemAmount)\n  }\n\n  function handleSort(key: TableSortType) {\n    setSort({\n      sort: key,\n      order: sort.sort === key ? (sort.order === 'asc' ? 'desc' : 'asc') : 'asc'\n    })\n  }\n\n  function handleSetItem(item: EditedChannelItem) {\n    const index = allItems.findIndex(x => x._id === item._id)\n\n    if (index) {\n      const newx = [...allItems]\n      newx[index] = item\n\n      setItems(newx)\n    }\n  }\n\n  function handlePageClick(method: 'previous' | 'next') {\n    const newPage = method === 'previous' ? page - 1 : page + 1\n    setPage(newPage)\n  }\n}\n\nexport default ItemList\n","import { useState, useEffect } from 'react'\n// Define general type for useWindowSize hook, which includes width and height\ninterface Size {\n  width: number | undefined\n  height: number | undefined\n}\n\n// Hook\nexport function useWindowSize(): Size {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<Size>({\n    width: undefined,\n    height: undefined\n  })\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      })\n    }\n    // Add event listener\n    window.addEventListener('resize', handleResize)\n    // Call handler right away so state gets updated with initial window size\n    handleResize()\n    // Remove event listener on cleanup\n    return () => window.removeEventListener('resize', handleResize)\n  }, []) // Empty array ensures that effect is only run on mount\n  return windowSize\n}\n","import { useEffect, useRef } from 'react'\n\n// Hook\nexport function usePrevious<T>(value: T): T {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref: any = useRef<T>()\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n","import { useState, useEffect } from 'react'\n\nexport function useDebounce<T>(value: T, delay: number): T {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value)\n      }, delay)\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler)\n      }\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  )\n  return debouncedValue\n}\n","import { Dispatch, SetStateAction, useState } from 'react'\n\nexport function useSessionStorage<T>(\n  key: string,\n  initialValue: T,\n  forceReset?: boolean\n): [T, Dispatch<SetStateAction<T>>] {\n  const manipulatedKey = (adjustableKey: string) => `onscreensounds-${adjustableKey}`\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = window.sessionStorage.getItem(manipulatedKey(key))\n\n      if (forceReset) {\n        window.sessionStorage.removeItem(manipulatedKey(key))\n      }\n\n      return item && forceReset !== true ? JSON.parse(item) : initialValue\n    } catch (error) {\n      console.error(error)\n      return initialValue\n    }\n  })\n\n  const setValue = (value: T | SetStateAction<T>): void => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value\n      setStoredValue(valueToStore)\n      window.sessionStorage.setItem(manipulatedKey(key), JSON.stringify(valueToStore))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return [storedValue, setValue]\n}\n","import { Dispatch, SetStateAction, useState } from 'react'\n\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T,\n  forceReset?: boolean\n): [T, Dispatch<SetStateAction<T>>] {\n  const manipulatedKey = (adjustableKey: string) => `onscreensounds-${adjustableKey}`\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = window.localStorage.getItem(manipulatedKey(key))\n\n      if (forceReset) {\n        window.localStorage.removeItem(manipulatedKey(key))\n      }\n\n      return item && forceReset !== true ? JSON.parse(item) : initialValue\n    } catch (error) {\n      console.error(error)\n      return initialValue\n    }\n  })\n\n  const setValue = (value: T | SetStateAction<T>): void => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value\n      setStoredValue(valueToStore)\n      window.localStorage.setItem(manipulatedKey(key), JSON.stringify(valueToStore))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return [storedValue, setValue]\n}\n","import produce from 'immer'\nimport cloneDeep from 'lodash/cloneDeep'\nimport get from 'lodash/get'\n\nexport function sortByKey<T>(array: T[], key: string, order: 'asc' | 'desc' = 'asc'): T[] {\n  return produce(array, draft =>\n    draft.sort((a, b) => {\n      const less = order === 'asc' ? -1 : 1\n      const more = order === 'asc' ? 1 : -1\n      const x = get(a, key)\n      const y = get(b, key)\n\n      if (x && y) {\n        return x < y ? less : x > y ? more : 0\n      }\n      if (!x) {\n        return 1\n      }\n      return -1\n    })\n  )\n}\n\nexport function queryStringToObject(query: string): { [key: string]: string } {\n  let splitObject = cloneDeep(query)\n\n  // Remove ?\n  if (splitObject.charAt(0) === '?') {\n    splitObject = splitObject.slice(1)\n  }\n\n  // Create array by splitting on &\n  const splittedQuery = splitObject.split('&')\n  const keyValueObj: { [key: string]: string } = {}\n  // Make key value objects ( key=value -> {key: value} )\n  splittedQuery.forEach(queryParam => {\n    const keyValue = queryParam.split('=')\n    if (keyValue[1]) {\n      // eslint-disable-next-line prefer-destructuring\n      keyValueObj[keyValue[0]] = keyValue[1]\n    }\n  })\n\n  return keyValueObj\n}\n\nexport function objectToQueryString(object: {\n  [key: string]: string | number | boolean | undefined\n}): string {\n  if (Object.keys(object).length === 0) {\n    return ''\n  }\n\n  const str = `?${Object.keys(object)\n    .reduce((a: string[], k) => {\n      const value = object[k]\n      if (value || value === 0 || value === false) {\n        a.push(`${k}=${encodeURIComponent(value)}`)\n      }\n      return a\n    }, [])\n    .join('&')}`\n\n  return str\n}\n","import React from 'react'\n\nimport './FilterHeader.scss'\n\ninterface IProps {\n  query: string\n  setQuery: (query: string) => void\n  minVolume: number | undefined\n  setMinVolume: (minVolume: number | undefined) => void\n  maxVolume: number | undefined\n  setMaxVolume: (maxVolume: number | undefined) => void\n  minCost: number | undefined\n  setMinCost: (minCost: number | undefined) => void\n  maxCost: number | undefined\n  setMaxCost: (maxCost: number | undefined) => void\n  minSeconds: number | undefined\n  setMinSeconds: (minSeconda: number | undefined) => void\n  maxSeconds: number | undefined\n  setMaxSeconds: (maxSeconds: number | undefined) => void\n}\n\nconst FilterHeader = ({\n  query,\n  setQuery,\n  minVolume,\n  setMinVolume,\n  maxVolume,\n  setMaxVolume,\n  minCost,\n  setMinCost,\n  maxCost,\n  setMaxCost,\n  minSeconds,\n  setMinSeconds,\n  maxSeconds,\n  setMaxSeconds\n}: IProps) => (\n  <div className=\"filter-header\">\n    <div className=\"filter-item\">\n      <h3>Search</h3>\n      <input\n        placeholder=\"Search by sound name\"\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n      />\n    </div>\n    <div className=\"filter-item\">\n      <h3>Cost</h3>\n      <div className=\"flex\">\n        <input\n          className={(minCost || 0) < (maxCost || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={minCost || undefined}\n          placeholder=\"Min\"\n          min={0}\n          max={9999999999}\n          onChange={e => setMinCost(parseInt(e.target.value, 10))}\n        />\n        <input\n          className={(minCost || 0) < (maxCost || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={maxCost || undefined}\n          placeholder=\"Max\"\n          min={1}\n          max={1000000000}\n          onChange={e => setMaxCost(parseInt(e.target.value, 10))}\n        />\n      </div>\n    </div>\n    <div className=\"filter-item\">\n      <h3>Volume</h3>\n      <div className=\"flex\">\n        <input\n          className={(minVolume || 0) < (maxVolume || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={minVolume || undefined}\n          placeholder=\"Min\"\n          min={0}\n          max={99}\n          onChange={e => setMinVolume(parseInt(e.target.value, 10))}\n        />\n        <input\n          className={(minVolume || 0) < (maxVolume || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={maxVolume || undefined}\n          placeholder=\"Max\"\n          min={1}\n          max={100}\n          onChange={e => setMaxVolume(parseInt(e.target.value, 10))}\n        />\n      </div>\n    </div>\n    <div className=\"filter-item\">\n      <h3>Duration</h3>\n      <div className=\"flex\">\n        <input\n          className={(minSeconds || 0) < (maxSeconds || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={minSeconds || undefined}\n          placeholder=\"Min\"\n          min={0}\n          max={9999999999}\n          onChange={e => setMinSeconds(parseInt(e.target.value, 10))}\n        />\n        <input\n          className={(minSeconds || 0) < (maxSeconds || 0) ? 'warn' : ''}\n          type=\"number\"\n          value={maxSeconds || undefined}\n          placeholder=\"Max\"\n          min={1}\n          max={1000000000}\n          onChange={e => setMaxSeconds(parseInt(e.target.value, 10))}\n        />\n      </div>\n    </div>\n  </div>\n)\n\nexport default FilterHeader\n","import * as React from 'react'\nimport { EditedChannelItem, TableSortType } from '../../@types/types'\nimport { useLocalStorage } from '../../hooks/useLocalStorage'\nimport { sortByKey } from '../../utils/general'\nimport FilterHeader from './FilterHeader'\n\ninterface IProps {\n  items: EditedChannelItem[]\n  setItems: (items: EditedChannelItem[]) => void\n  children: (\n    FiltersComponent: React.ReactNode,\n    processedItems: EditedChannelItem[],\n    sort: { sort: TableSortType; order: 'asc' | 'desc' },\n    setSort: (newSort: { sort: TableSortType; order: 'asc' | 'desc' }) => void,\n    resetFilters: () => void\n  ) => React.ReactNode\n}\n\nconst FilterManager = ({ items, setItems, children }: IProps) => {\n  const [query, setQuery] = useLocalStorage<string>('query', '')\n  const [minVolume, setMinVolume] = useLocalStorage<number | undefined>('minVolume', undefined)\n  const [maxVolume, setMaxVolume] = useLocalStorage<number | undefined>('maxVolume', undefined)\n  const [minCost, setMinCost] = useLocalStorage<number | undefined>('minCost', undefined)\n  const [maxCost, setMaxCost] = useLocalStorage<number | undefined>('maxCost', undefined)\n  const [minSeconds, setMinSeconds] = useLocalStorage<number | undefined>('minSeconds', undefined)\n  const [maxSeconds, setMaxSeconds] = useLocalStorage<number | undefined>('maxSeconds', undefined)\n  const [sort, setSort] = useLocalStorage<{ sort: TableSortType; order: 'asc' | 'desc' }>('sort', {\n    sort: 'dateCreated',\n    order: 'asc'\n  })\n\n  const [processedItems, setProcessedItems] = React.useState<EditedChannelItem[]>(items)\n  const memoizedProcessFiltering = React.useCallback(processFiltering, [\n    query,\n    minVolume,\n    maxVolume,\n    minCost,\n    maxCost,\n    minSeconds,\n    maxSeconds\n  ])\n\n  React.useEffect(() => {\n    setProcessedItems(memoizedProcessFiltering(items, sort))\n  }, [items, memoizedProcessFiltering, sort])\n\n  const FiltersComponent = FilterHeader({\n    query,\n    setQuery,\n    minVolume,\n    setMinVolume,\n    maxVolume,\n    setMaxVolume,\n    minCost,\n    setMinCost,\n    maxCost,\n    setMaxCost,\n    minSeconds,\n    setMinSeconds,\n    maxSeconds,\n    setMaxSeconds\n  })\n\n  return <>{children(FiltersComponent, processedItems, sort, setSort, resetFilters)}</>\n\n  function processFiltering(\n    allItems: EditedChannelItem[],\n    s: { sort: TableSortType; order: 'asc' | 'desc' }\n  ) {\n    return sortByKey(\n      allItems.filter(\n        item =>\n          // Query checking, any should match so OR\n          (item.name.toUpperCase().indexOf(query.toUpperCase()) !== -1 ||\n            item.description.toUpperCase().includes(query.toUpperCase()) ||\n            item.bot?.identifier?.toUpperCase().includes(query.toUpperCase())) &&\n          // Strict clauses so AND\n          (item.alert?.audio?.volume || 0) * 100 >= (minVolume || 0) &&\n          (item.alert?.audio?.volume || 0) * 100 <= (maxVolume || 100) &&\n          (item.cost || 0) >= (minCost || 0) &&\n          (item.cost || 0) <= (maxCost || 100000000) &&\n          (item.duration || 0) >= (minSeconds || 0) &&\n          (item.duration || 0) <= (maxSeconds || 100000000)\n      ),\n      mapSingleKeyToPath(s.sort),\n      s.order\n    )\n  }\n\n  function mapSingleKeyToPath(sortKey: TableSortType): string {\n    switch (sortKey) {\n      case 'soundName':\n        return 'bot.identifier'\n      case 'volume':\n        return 'alert.audio.volume'\n      case 'dateCreated':\n        return 'createdAt'\n      case 'duration':\n        return 'duration'\n\n      default: {\n        return sortKey\n      }\n    }\n  }\n\n  function resetFilters() {\n    setQuery('')\n    setMinVolume(undefined)\n    setMaxVolume(undefined)\n    setMinCost(undefined)\n    setMaxCost(undefined)\n    setMinSeconds(undefined)\n    setMaxSeconds(undefined)\n  }\n}\n\nexport default FilterManager\n","export const BASE_URL = 'https://api.streamelements.com/kappa'\n","import { BASE_URL } from '../utils/constants'\nimport { objectToQueryString } from '../utils/general'\nimport { StreamElements } from '../@types/types'\n\nexport interface APIServiceProps {\n  getMeDetails: () => Promise<StreamElements.Channel>\n  getCurrentUserChannel: () => Promise<StreamElements.Channel>\n  getChannelItems: (channelId: string) => Promise<StreamElements.ChannelItem[]>\n  saveChannelItem: (\n    channelId: string,\n    item: StreamElements.ChannelItem\n  ) => Promise<StreamElements.ChannelItem>\n  getUploadedItems: (\n    channelId: string,\n    limit?: number,\n    offset?: number\n  ) => Promise<StreamElements.UploadResponse>\n}\n\nconst APIService = (token: string): APIServiceProps => ({\n  getCurrentUserChannel: (): Promise<StreamElements.Channel> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    return fetchAPI(`${BASE_URL}/v2/users/current`, options)\n  },\n  getMeDetails: (): Promise<StreamElements.Channel> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    return fetchAPI(`${BASE_URL}/v2/channels/me`, options)\n  },\n  getChannelItems: (\n    channelId: string,\n    limit: number = 25,\n    offset?: number\n  ): Promise<StreamElements.ChannelItem[]> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    const query = objectToQueryString({ limit, offset })\n\n    return fetchAPI(`${BASE_URL}/v2/store/${channelId}/items${query}`, options)\n  },\n  saveChannelItem: (\n    channelId: string,\n    item: StreamElements.ChannelItem\n  ): Promise<StreamElements.ChannelItem> => {\n    const options: RequestInit = {\n      method: 'PUT',\n      headers: {\n        Authorization: token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    }\n\n    return fetchAPI(`${BASE_URL}/v2/store/${channelId}/items/${item._id}`, options)\n  },\n  getUploadedItems: (\n    channelId: string,\n    limit?: number,\n    offset?: number\n  ): Promise<StreamElements.UploadResponse> => {\n    const options: RequestInit = {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    }\n\n    const query = objectToQueryString({ limit, offset, type: 'audio' })\n\n    return fetchAPI(`${BASE_URL}/v2/uploads/${channelId}${query}`, options)\n  }\n})\n\nfunction fetchAPI<T>(url: string, options: RequestInit): Promise<T> {\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText)\n    }\n    return response.json()\n  })\n}\n\nexport default APIService\n","import React from 'react'\nimport APIService, { APIServiceProps } from '../services/APIService'\nimport { useLocalStorage } from './useLocalStorage'\nimport { StreamElements } from '../@types/types'\n\ninterface AuthContextType {\n  user?: StreamElements.Channel\n  setUser: (user: StreamElements.Channel) => void\n  token: string | null\n  setToken: (token: string | null) => void\n  APIService: APIServiceProps | null\n}\n\nconst AuthContext = React.createContext<AuthContextType>(null!)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = React.useState<StreamElements.Channel>()\n  const [token, setToken] = useLocalStorage<string | null>('StreamElementsJWT', null)\n\n  const tokenizedAPIService = token ? APIService(`Bearer ${token}`) : null\n\n  const value = { user, setUser, token, setToken, APIService: tokenizedAPIService }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n  return React.useContext(AuthContext)\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Outlet } from 'react-router-dom'\n\nimport Header from '../../components/header/Header'\nimport ItemList from '../../components/itemList/ItemList'\nimport FilterManager from '../../components/filterManager/FilterManager'\n\nimport { EditedChannelItem, StreamElements } from '../../@types/types'\nimport { useAuth } from '../../hooks/useAuth'\n\nimport './Home.scss'\n\nconst Home = () => {\n  const { user, setUser, APIService, setToken } = useAuth()\n  const [items, setItems] = useState<EditedChannelItem[]>([])\n  const [files, setFiles] = useState<StreamElements.UploadedFile[]>([])\n  const [loading, setLoading] = useState<boolean>(false)\n\n  const memoizedFetchUserDetails = useCallback(fetchUserDetails, [APIService, setUser])\n  const memoizedFetchChannelItems = useCallback(fetchUserStoreItems, [APIService])\n  const memoizedFetchAllFileDetails = useCallback(fetchAllFileDetails, [APIService])\n\n  useEffect(() => {\n    memoizedFetchUserDetails()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    if (user?._id) {\n      memoizedFetchChannelItems(user._id)\n      memoizedFetchAllFileDetails(user._id)\n    } else {\n      setItems([])\n    }\n  }, [user?._id, memoizedFetchChannelItems, memoizedFetchAllFileDetails])\n\n  return (\n    <>\n      <div className=\"home\">\n        <Header user={user} loading={loading} logout={() => setToken(null)} />\n        <div className=\"content\">\n          <FilterManager items={items} setItems={setItems}>\n            {(FiltersComponent, processedItems, sort, setSort, resetFilters) => (\n              <>\n                {FiltersComponent}\n                <ItemList\n                  items={processedItems}\n                  setItems={setItems}\n                  allItems={items}\n                  sort={sort}\n                  setSort={setSort}\n                  resetFilters={resetFilters}\n                />\n              </>\n            )}\n          </FilterManager>\n        </div>\n      </div>\n\n      {/** Used for rendering above page */}\n      <Outlet context={{ items, files, setItem: handleSetItem, setFile: handleSetFile }} />\n    </>\n  )\n\n  async function fetchUserDetails() {\n    if (APIService) {\n      try {\n        setLoading(true)\n        const channel = await APIService?.getMeDetails()\n        setUser(channel)\n      } catch (error) {\n        console.error(error)\n      } finally {\n        setLoading(false)\n      }\n    }\n  }\n\n  async function fetchUserStoreItems(channelId: string) {\n    if (APIService) {\n      try {\n        setLoading(true)\n        const channelItems = await APIService?.getChannelItems(channelId)\n\n        const filteredItems = channelItems.filter(i => i.alert?.audio?.src) as EditedChannelItem[]\n        const itemsWithDuration = await Promise.all(\n          filteredItems.map(async item => {\n            const duration = await determineSoundDuration(item.alert?.audio?.src || '')\n            return {\n              ...item,\n              duration: duration || undefined\n            }\n          })\n        )\n\n        setItems(itemsWithDuration)\n      } catch (error) {\n        console.error(error)\n      } finally {\n        setLoading(false)\n      }\n    }\n  }\n\n  function handleSetItem(item: StreamElements.ChannelItem) {\n    const index = items.findIndex(x => x._id === item._id)\n\n    if (index) {\n      const newArr = [...items]\n      newArr[index] = item\n      setItems(newArr)\n    } else {\n      setItems([...items, item])\n    }\n  }\n\n  async function fetchAllFileDetails(channelId: string) {\n    if (APIService && channelId) {\n      try {\n        setLoading(true)\n        const allUploadedItems = await APIService?.getUploadedItems(channelId, undefined)\n        setFiles(allUploadedItems.uploads)\n      } catch (error) {\n        console.error(error)\n      } finally {\n        setLoading(false)\n      }\n    }\n  }\n\n  function handleSetFile(file: StreamElements.UploadedFile) {\n    const index = files.findIndex(x => x._id === file._id)\n\n    if (index) {\n      const newArr = [...files]\n      newArr[index] = file\n      setFiles(newArr)\n    } else {\n      setFiles([...files, file])\n    }\n  }\n\n  async function determineSoundDuration(url: string) {\n    if (url) {\n      const ctx = new AudioContext()\n\n      const response = await fetch(url, {\n        method: 'GET'\n      }).then(r => r.arrayBuffer())\n\n      const audioBuffer = await ctx.decodeAudioData(response, a => a)\n      return audioBuffer.duration\n    }\n\n    return undefined\n  }\n}\n\nexport default Home\n","import React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\nimport pjson from '../../../package.json'\nimport { useAuth } from '../../hooks/useAuth'\n\nimport './LoginPage.scss'\n\nconst LoginPage = () => {\n  const { token, setToken } = useAuth()\n  const navigate = useNavigate()\n\n  const [jwt, setJWT] = useState<string>('')\n\n  useEffect(() => {\n    if (token) {\n      navigate('/')\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className=\"login-page\">\n      <h1 className=\"page-title\">StreamElements Sounds editor</h1>\n      <div className=\"login-block\">\n        <div className=\"info-box warning\">\n          <div className=\"header\">\n            <i className=\"fas fa-info-circle\" />\n            <span>Information</span>\n          </div>\n          <div className=\"content\">\n            <p>To manage sounds the tool needs your JWT (JSON web token).</p>\n            <p>\n              You can find this by logging into StreamElements, clicking your image in the top\n              right, then your username and lastly Channel Settings.\n            </p>\n            <p>\n              Then toggle the \"Show secrets\" button, and copy the JWT in full inside the input\n              field.\n            </p>\n          </div>\n          <div className=\"footer\">\n            <span>Do not share this token!</span>\n          </div>\n        </div>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"password\"\n            value={jwt}\n            onChange={e => setJWT(e.target.value)}\n            placeholder=\"JWT (JSON web token)\"\n          />\n          <div className=\"buttons\">\n            <button type=\"submit\">Login</button>\n            <button\n              className=\"secondary\"\n              type=\"button\"\n              onClick={() =>\n                window.open('https://streamelements.com/dashboard/account/channels', '_blank')\n              }\n            >\n              <i className=\"icon fas fa-external-link-square-alt\" />\n              StreamElements Channel Settings\n            </button>\n          </div>\n        </form>\n      </div>\n      <div className=\"copy\">\n        <div className=\"who\">&copy; damon02 - 2021</div>\n        <div className=\"version\">v{pjson.version}</div>\n      </div>\n    </div>\n  )\n\n  function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault()\n\n    setToken(jwt)\n    setJWT('')\n\n    navigate('/')\n  }\n}\n\nexport default LoginPage\n","import React from 'react'\n\ninterface IProps {\n  id?: string\n  label?: React.ReactNode\n  additionalLabel?: React.ReactNode\n  type: 'input' | 'input large' | 'input number' | 'textarea'\n  subtitle?: React.ReactNode\n  value: string | number | readonly string[] | undefined\n  onChange: (value: string | number | undefined) => void\n  placeholder?: string\n  allowsMin?: number\n}\n\nconst ItemWrapper = ({\n  id,\n  label,\n  additionalLabel,\n  type,\n  subtitle,\n  value,\n  onChange,\n  placeholder,\n  allowsMin\n}: IProps) => (\n  <div className=\"item-wrapper\" id={id}>\n    {(label || additionalLabel) && (\n      <label>\n        {label}\n        {additionalLabel}\n      </label>\n    )}\n    {type === 'input large' ? (\n      <input\n        className=\"input large\"\n        value={value}\n        onChange={e => onChange(e.target.value)}\n        placeholder={placeholder}\n      />\n    ) : type === 'textarea' ? (\n      <textarea value={value} onChange={e => onChange(e.target.value)} placeholder={placeholder} />\n    ) : type === 'input number' ? (\n      <input\n        value={value}\n        type=\"number\"\n        onChange={e => {\n          const parsedValue = e.target.value ? parseInt(e.target.value, 10) : 0\n          onChange(\n            parsedValue > 999999999 ? 999999999 : !allowsMin && parsedValue < 0 ? 0 : parsedValue\n          )\n        }}\n        placeholder={placeholder}\n        min={allowsMin || 0}\n        max={999999999}\n      />\n    ) : (\n      <input value={value} onChange={e => onChange(e.target.value)} placeholder={placeholder} />\n    )}\n    {subtitle && <label className=\"subtitle\">{subtitle}</label>}\n  </div>\n)\n\nexport default ItemWrapper\n","import { formatDuration, intervalToDuration } from 'date-fns'\nimport Slider from 'rc-slider'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { WaveSurfer, WaveForm } from 'wavesurfer-react'\n\nimport ItemWrapper from './ItemWrapper'\n\nimport { useItems } from '../../hooks/useOutletContexts'\nimport { EditedChannelItem, StreamElements } from '../../@types/types'\nimport { useAuth } from '../../hooks/useAuth'\n\nimport './ItemDetails.scss'\n\nconst ItemDetails = () => {\n  const navigate = useNavigate()\n  const { APIService, user } = useAuth()\n  const { itemId } = useParams()\n  const { items, files, setItem } = useItems()\n\n  const [saving, setSaving] = useState(false)\n\n  const wavesurferRef = React.useRef<any>(null)\n\n  const item = items.find(i => i._id === itemId)\n\n  const [name, setName] = useState<string>(item?.name || '')\n  const [description, setDescription] = useState<string>(item?.description || '')\n  const [cost, setCost] = useState<number>(item?.cost || 0)\n  const [quantity, setQuantity] = useState<number>(item?.quantity.total || -1)\n  const [globalCooldown, setGlobalCooldown] = useState<number>(item?.cooldown?.global || 0)\n  const [userCooldown, setUserCooldown] = useState<number>(item?.cooldown?.user || 0)\n  const [categoryCooldownName, setCategoryCooldownName] = useState<string>(item?.categoryName || '')\n  const [categoryCooldownTime, setCategoryCooldownTime] = useState<number>(\n    item?.cooldown?.category || 0\n  )\n  const [volume, setVolume] = useState<number>(item?.alert?.audio?.volume || 1)\n  const [command, setCommand] = useState<string>(item?.bot?.identifier || '')\n\n  // File specific values\n  const [selectedFile, setSelectedFile] = useState<StreamElements.UploadedFile>()\n  const [playing, setPlaying] = useState(false)\n  const [duration, setDuration] = useState<number>()\n  const [playPosition, setPlayPosition] = useState(0)\n\n  const [redeemables, setRedeemables] = useState({\n    website: false,\n    extension: false,\n    bot: true,\n    confirmation: true\n  })\n\n  const handleWSMount = useCallback(\n    waveSurfer => {\n      wavesurferRef.current = waveSurfer\n\n      if (wavesurferRef.current && selectedFile?.url) {\n        wavesurferRef.current.load(selectedFile?.url)\n\n        wavesurferRef.current.on('play', () => {\n          setPlaying(true)\n        })\n\n        wavesurferRef.current.on('pause', () => {\n          setPlaying(false)\n        })\n\n        wavesurferRef.current.on('finish', () => {\n          setPlaying(false)\n        })\n\n        wavesurferRef.current.on('seek', () => {\n          setPlayPosition(wavesurferRef.current.getCurrentTime())\n        })\n\n        wavesurferRef.current.on('audioprocess', () => {\n          setPlayPosition(wavesurferRef.current.getCurrentTime())\n        })\n      }\n    },\n    [selectedFile?.url]\n  )\n\n  useEffect(() => {\n    if (item) {\n      setName(item.name)\n      setDescription(item.description)\n      setCost(item.cost)\n      setQuantity(item.quantity.total)\n      setGlobalCooldown(item.cooldown?.global || 0)\n      setUserCooldown(item.cooldown?.user || 0)\n      setCategoryCooldownName(item?.categoryName || '')\n      setCategoryCooldownTime(item?.cooldown?.category || 0)\n      setVolume(item?.alert?.audio?.volume || 1)\n      setRedeemables({\n        website: item?.sources.includes('website') || false,\n        extension: item?.sources.includes('extension') || false,\n        bot: item?.sources.includes('bot') || true,\n        confirmation: item?.bot?.sendResponse || true\n      })\n      setCommand(item.bot?.identifier || '')\n    }\n  }, [item])\n\n  useEffect(() => {\n    const match = files.find(u => u.url === item?.alert?.audio?.src)\n    setSelectedFile(match)\n  }, [files, item])\n\n  const playSound = React.useCallback(() => {\n    wavesurferRef.current.playPause()\n  }, [])\n\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      wavesurferRef.current.setVolume(volume)\n    }\n  }, [volume])\n\n  useEffect(() => {\n    setTimeout(() => getDuration(), 1000)\n  }, [])\n\n  if (!item) {\n    return null\n  }\n\n  return (\n    <div className=\"item-details-wrapper\">\n      <div className=\"floating-block\">\n        <div className=\"content left\">\n          <ItemWrapper\n            label=\"Item name\"\n            type=\"input large\"\n            subtitle=\"This will be presented to the chat\"\n            value={name}\n            onChange={value => setName(value as string)}\n          />\n          <ItemWrapper\n            label=\"Description\"\n            type=\"textarea\"\n            subtitle=\"Only visible in StreamElements.\"\n            value={description}\n            onChange={value => setDescription(value as string)}\n          />\n\n          <div className=\"flex\">\n            <ItemWrapper\n              label=\"Item cost\"\n              type=\"input number\"\n              subtitle=\"Cost of this item in points\"\n              value={cost}\n              onChange={value => setCost(value as number)}\n            />\n\n            <ItemWrapper\n              label=\"Quantity\"\n              type=\"input number\"\n              subtitle=\"-1 for unlimited amount\"\n              value={quantity}\n              allowsMin={-1}\n              onChange={value => setQuantity(value as number)}\n            />\n          </div>\n          <div className=\"flex\">\n            <ItemWrapper\n              label=\"Global cooldown\"\n              type=\"input number\"\n              subtitle={`In seconds, (${\n                globalCooldown\n                  ? formatDuration(\n                      intervalToDuration({\n                        start: 0,\n                        end: (globalCooldown || 0.01) * 1000\n                      }),\n                      { format: ['years', 'days', 'hours', 'minutes', 'seconds'] }\n                    )\n                  : '?'\n              })`}\n              value={globalCooldown}\n              onChange={value => setGlobalCooldown(value as number)}\n            />\n            <ItemWrapper\n              label=\"User cooldown\"\n              type=\"input number\"\n              subtitle={`In seconds, (${\n                userCooldown\n                  ? formatDuration(\n                      intervalToDuration({\n                        start: 0,\n                        end: (userCooldown || 0) * 1000\n                      }),\n                      { format: ['years', 'days', 'hours', 'minutes', 'seconds'] }\n                    )\n                  : '?'\n              })`}\n              value={userCooldown}\n              onChange={value => setUserCooldown(value as number)}\n            />\n          </div>\n\n          <div className=\"flex item-wrapper\">\n            <label>Category cooldown</label>\n            <label className=\"toptitle\">\n              A user is blocked from purchasing items from the same category during the cool down\n              period.\n            </label>\n            <div className=\"flex\">\n              <ItemWrapper\n                type=\"input\"\n                placeholder=\"Name\"\n                value={categoryCooldownName}\n                onChange={value => setCategoryCooldownName(value as string)}\n              />\n              <ItemWrapper\n                type=\"input number\"\n                placeholder=\"Time in seconds\"\n                value={categoryCooldownTime}\n                onChange={value => setCategoryCooldownTime(value as number)}\n                subtitle={`In seconds, (${\n                  categoryCooldownTime\n                    ? formatDuration(\n                        intervalToDuration({\n                          start: 0,\n                          end: (categoryCooldownTime || 0) * 1000\n                        }),\n                        { format: ['years', 'days', 'hours', 'minutes', 'seconds'] }\n                      )\n                    : '?'\n                })`}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"content right\">\n          <div className=\"item-wrapper file\">\n            <div className=\"file-tag\">\n              <button\n                className=\"play-button\"\n                type=\"button\"\n                onClick={e => {\n                  e.preventDefault()\n                  e.stopPropagation()\n                  if (item.alert?.audio?.src) {\n                    playSound()\n                  }\n                }}\n              >\n                {playing ? <i className=\"fas fa-pause\" /> : <i className=\"fas fa-play\" />}\n              </button>\n              <div className=\"detail-rows\">\n                <div className=\"name\">\n                  <i className=\"icon fas fa-file-audio\" />\n                  <span className=\"subtitle\">{selectedFile?.name}</span>\n                </div>\n                <div className=\"duration\">\n                  <i className=\"icon fas fa-music\" />\n                  {duration ? (\n                    `${\n                      playPosition !== 0 &&\n                      Math.round(playPosition * 10) / 10 !== Math.round(duration * 10) / 10\n                        ? `${Math.round(playPosition * 10) / 10}s / `\n                        : ''\n                    }${Math.round(duration * 10) / 10}s`\n                  ) : (\n                    <i className=\"fas fa-spin fa-spinner\" />\n                  )}\n                </div>\n              </div>\n\n              {selectedFile && (\n                <div className=\"waveform\">\n                  <WaveSurfer onMount={handleWSMount} ref={wavesurferRef}>\n                    <WaveForm\n                      id={`waveform-${selectedFile?._id}`}\n                      container={`waveform-${selectedFile?._id}`}\n                      p\n                      cursorColor=\"#ff000000\"\n                      waveColor=\"#BDBABD\"\n                      progressColor=\"#FFFFFF\"\n                      height={35}\n                      barWidth={1}\n                      barHeight={3}\n                      cursorWidth={1}\n                      hideScrollbar={true}\n                    />\n                  </WaveSurfer>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"item-wrapper volume\">\n            <label>Volume ({Math.round((volume || 0) * 100)}%)</label>\n            <Slider\n              value={volume}\n              onChange={v => setVolume(v)}\n              min={0}\n              max={1}\n              step={0.01}\n              handleStyle={{\n                height: 24,\n                width: 24,\n                marginTop: -7,\n                backgroundColor: '#6441a5',\n                borderColor: '#9a64ff'\n              }}\n              railStyle={{ backgroundColor: '#282a36', height: 10 }}\n              trackStyle={{ backgroundColor: '#9a64ff', height: 10 }}\n            />\n          </div>\n\n          <div\n            className=\"item-wrapper checkbox\"\n            onClick={() => setRedeemables({ ...redeemables, website: !redeemables.website })}\n            onKeyPress={() => setRedeemables({ ...redeemables, website: !redeemables.website })}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <input\n              type=\"checkbox\"\n              checked={redeemables.website}\n              onClick={() => setRedeemables({ ...redeemables, website: !redeemables.website })}\n            />\n            <label>Redeemable via website</label>\n          </div>\n          <div\n            className=\"item-wrapper checkbox\"\n            onClick={() => setRedeemables({ ...redeemables, extension: !redeemables.extension })}\n            onKeyPress={() => setRedeemables({ ...redeemables, extension: !redeemables.extension })}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <input\n              type=\"checkbox\"\n              checked={redeemables.extension}\n              onClick={() => setRedeemables({ ...redeemables, extension: !redeemables.extension })}\n            />\n            <label>Redeemable via extension</label>\n          </div>\n          <div\n            className=\"item-wrapper checkbox\"\n            onClick={() => setRedeemables({ ...redeemables, bot: !redeemables.bot })}\n            onKeyPress={() => setRedeemables({ ...redeemables, bot: !redeemables.bot })}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <input\n              type=\"checkbox\"\n              checked={redeemables.bot}\n              onClick={() => setRedeemables({ ...redeemables, bot: !redeemables.bot })}\n            />\n            <label>Redeemable via chat</label>\n          </div>\n          <div\n            className=\"item-wrapper checkbox\"\n            onClick={() =>\n              setRedeemables({ ...redeemables, confirmation: !redeemables.confirmation })\n            }\n            onKeyPress={() =>\n              setRedeemables({ ...redeemables, confirmation: !redeemables.confirmation })\n            }\n            tabIndex={0}\n            role=\"button\"\n          >\n            <input\n              type=\"checkbox\"\n              checked={redeemables.confirmation}\n              onClick={() =>\n                setRedeemables({ ...redeemables, confirmation: !redeemables.confirmation })\n              }\n            />\n            <label>Send confirmation when redeeming via chat</label>\n          </div>\n\n          <ItemWrapper\n            type=\"input\"\n            value={command}\n            onChange={v => setCommand(v as string)}\n            label=\"Item chat command\"\n            subtitle={`To play, type \"!sound ${command}\" in the chat`}\n          />\n          <div className=\"buttons\">\n            <button className=\"button primary green\" type=\"button\" onClick={applyChanges}>\n              {saving ? <i className=\"fas fa-spin fa-spinner\" /> : 'Save changes'}\n            </button>\n            <button\n              className=\"button secondary\"\n              type=\"button\"\n              disabled={saving}\n              onClick={() => handleCloseDetails()}\n            >\n              Cancel changes\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n  function handleCloseDetails() {\n    navigate('/')\n  }\n\n  function getDuration() {\n    const dur = wavesurferRef.current.getDuration()\n    setDuration(dur)\n  }\n\n  async function applyChanges() {\n    if (user && APIService && item) {\n      try {\n        setSaving(true)\n        const newItem: EditedChannelItem = {\n          ...item,\n          name,\n          description,\n          cost,\n          quantity: { total: quantity },\n          cooldown: {\n            ...item.cooldown,\n            category: categoryCooldownTime,\n            global: globalCooldown,\n            user: userCooldown\n          },\n          categoryName: categoryCooldownName,\n          sources: [\n            redeemables.bot ? 'bot' : undefined,\n            redeemables.extension ? 'extension' : undefined,\n            redeemables.website ? 'website' : undefined\n          ].filter(v => v) as string[],\n          alert: {\n            ...item.alert,\n            audio: {\n              src: selectedFile?.url,\n              volume\n            }\n          },\n          bot: {\n            sendResponse: redeemables.confirmation || false,\n            identifier: command\n          }\n        }\n\n        delete newItem.duration\n\n        const processedItem = await APIService?.saveChannelItem(user._id, newItem)\n        setItem(processedItem)\n        handleCloseDetails()\n      } catch (error) {\n        console.error(error)\n      } finally {\n        setSaving(false)\n      }\n    }\n  }\n}\n\nexport default ItemDetails\n","import { useOutletContext } from 'react-router'\nimport { EditedChannelItem, StreamElements } from '../@types/types'\n\nexport function useItems() {\n  return useOutletContext<{\n    items: EditedChannelItem[]\n    setItem: (item: StreamElements.ChannelItem) => void\n    files: StreamElements.UploadedFile[]\n    setFile: (file: StreamElements.UploadedFile) => void\n  }>()\n}\n","import * as React from 'react'\nimport { useLocation, Navigate } from 'react-router-dom'\nimport { useAuth } from '../../../hooks/useAuth'\n\nconst ProtectedRoute = ({ children }: { children: JSX.Element }) => {\n  const auth = useAuth()\n  const location = useLocation()\n\n  if (!auth?.token) {\n    return <Navigate to=\"/login\" state={{ from: location }} />\n  }\n\n  return children\n}\n\nexport default ProtectedRoute\n","import * as React from 'react'\nimport { Routes, Route } from 'react-router-dom'\n\nimport Home from '../../pages/home/Home'\nimport LoginPage from '../../pages/login/LoginPage'\nimport ItemDetails from '../itemDetails/ItemDetails'\nimport ProtectedRoute from '../router/protectedRoute/ProtectedRoute'\n\nimport './App.scss'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <ProtectedRoute>\n              <Home />\n            </ProtectedRoute>\n          }\n        >\n          <Route path=\"item/\" element={<ItemDetails />}>\n            <Route path=\":itemId\" element={<ItemDetails />} />\n          </Route>\n        </Route>\n        <Route index={false} path=\"login\" element={<LoginPage />} />\n      </Routes>\n    </div>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport App from './components/app/App'\nimport { AuthProvider } from './hooks/useAuth'\nimport reportWebVitals from './reportWebVitals'\n\nimport 'rc-slider/assets/index.css'\nimport './style/index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}